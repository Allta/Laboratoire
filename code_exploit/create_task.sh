#!/bin/bash 

REGEX="^[0-9]{2}-[a-z]{3}\.sh"
menu_path="/netsec/code_exploit/menu_entry"


while getopts "f:c:" option
do 
	case "${option}" in
		f) task_name="$OPTARG"
		;;
		c) command_name="$OPTARG"
		;;
	esac
done


task_number=$(ls ${menu_path} | wc -l)
[[ $task_number -lt 10 ]] && task_number="0$((task_number+1))"

task_file="${task_number}-${task_name}.sh"
echo ${task_file} 
[[ ${task_file} =~ ${REGEX} ]] &&  echo "${command_name}" >> ${menu_path}/${task_file} 

